<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="Bluefish 2.2.6" />
  <title></title>
  <style type="text/css">
    body {
      background-color: #25383C;
      overflow: hidden;
    }
    
    #container {
      display: table;
      position: absolute;
      height: 100%;
      width: 100%;
      text-align: center;
    }
    
    #middle {
      display: table-cell;
      vertical-align: middle;
      text-align: center;
      margin-left: auto;
      margin-right: auto;
    }
    
    #player {
      width: 853px;
      height: 480px;
    }
  </style>
</head>
<body>

<div id="container">
<div id="middle">
<div id="player">
</div>
</div>
</div>

<script>
  // This code loads the IFrame Player API code asynchronously.
  var tag = document.createElement('script');

  tag.src = "https://www.youtube.com/iframe_api";
  var firstScriptTag = document.getElementsByTagName('script')[0];
  firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

  var nextVid = "";
  var nextVidStart = 0;

  var player;
  function onYouTubeIframeAPIReady() {
    
    var video = getVideo('workout');
    
    if (video.cooldown) {
      var cool = getVideo('cooldown');
      nextVid = cool.videoId;
      nextVidStart = cool.startAt;
    }
    
    player = new YT.Player('player', {
      height: '480',
      width: '853',
      videoId: video.videoId,
      playerVars: {start: video.startAt},
      events: {
        'onReady': onPlayerReady,
        'onStateChange': onPlayerStateChange
      }
    });
  }

  // 4. The API will call this function when the video player is ready.
  function onPlayerReady(event) {
    event.target.playVideo();
  }

  function onPlayerStateChange(event) {
    if (event.data == YT.PlayerState.ENDED) {
      if (nextVid != ""){
        player.loadVideoById(nextVid, nextVidStart);
        nextVid = "";
      }
    }
  }
  
  var videoList = [
  {videoId: "LZxrUnKJIFQ", startAt: 0, cooldown: true},
  {videoId: "0qSrMgZM69Y", startAt: 60, cooldown: false},
  ];
  var cooldownList = [
  {videoId: "q5FVyhTl5Ys", startAt: 0},
  {videoId: "XewzQ9MRDh8", startAt: 10},
  ];
  
  function getVideo(type) {
    var list = videoList;
    if(type=="cooldown"){
      list = cooldownList;
    }
    var idx = Math.floor(Math.random() * list.length)
    return list[idx];
  }


</script>

</body>
</html>
